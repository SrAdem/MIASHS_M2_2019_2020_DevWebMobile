<!DOCTYPE html>
<html>

<head>
  <link href="style.css" rel="stylesheet">
  <h1>Prototype</h1>
</head>

<body>

  <div id="container" style="border: solid 1px black; width: 45vw; height: 45vw"></div>

  <script type="text/javascript">

    document.createSvg = function (tagName) {
      var svgNS = "http://www.w3.org/2000/svg";
      return this.createElementNS(svgNS, tagName);
    };

    
    var grid = function (numberPerSide, size, pixelsPerSide, colors) {
      var svg = document.createSvg("svg");
      svg.setAttribute("width", 45 +"vw");
      svg.setAttribute("height", 45 +"vw");
      svg.setAttribute("id", "MySvg");
      svg.setAttribute("viewBox", [0, 0, numberPerSide * size, numberPerSide * size].join(" "));
      svg.setAttribute("preserveAspectRatio","xMidYMid meet");
      let numPionJoueurB = 1;
      let numPionJoueurA = 20;
      for (var i = 0; i < numberPerSide; i++) {
        for (var j = 0; j < numberPerSide; j++) {
          var color1 = colors[(i + j) % colors.length];
          var g = document.createSvg("g");
          g.setAttribute("transform", ["translate(", j * size, ",", i * size, ")"].join(""));
          var number = numberPerSide * i + j;
          var box = document.createSvg("rect");
          box.setAttribute("width", size);
          box.setAttribute("height", size);
          box.setAttribute("fill", color1);
          box.setAttribute("id", "b" + number);
          g.appendChild(box);
          
          //pions joueur A
          if(color1 =="brown" && i<4){
            let pion = document.createSvg("circle");
            pion.setAttribute("cx",25);
            pion.setAttribute("cy",25);
            pion.setAttribute("r",20);
            pion.setAttribute("fill","black");
            pion.setAttribute("stroke","red")
            pion.setAttribute("stroke-width",3);
            pion.setAttribute("id", "P"+ numPionJoueurA + "-JA-" );
            numPionJoueurA--;
            g.appendChild(pion);
          };

          //pions joueur B
          if(color1 =="brown" && (i<=9 && i>=6)){
            let pion = document.createSvg("circle");
            pion.setAttribute("cx",25);
            pion.setAttribute("cy",25);
            pion.setAttribute("r",20);
            pion.setAttribute("fill","white");
            pion.setAttribute("stroke","black");
            pion.setAttribute("stroke-width",3);
            pion.setAttribute("id","P"+ numPionJoueurB + "-JB-");
            numPionJoueurB++;
            g.appendChild(pion);
          };
          svg.appendChild(g);
        }
      }
      return svg;
    };

    var container = document.getElementById("container");
    container.appendChild(grid(10, 50, 1000, ["brown", "yellow"]));
    
  </script>

</body>

</html>
