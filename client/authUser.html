<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Page d'authentification</title>
    <style>
        #createAccount {
            display: none;
        }
    </style>
</head>
<body align="center">
    <script src='/socket.io/socket.io.js'></script>
    <script>
        var socket = io();

        /***************************** Account Creation ***********************************/
        function displayCreation () {
            document.getElementById('connexion').setAttribute("style", "display:none");
            document.getElementById('createAccount').setAttribute("style", "display:block");
        };

        function createAccount () {
            socket.emit('addUser',
                document.getElementById('Iname').value,
                document.getElementById('Iemail').value,
                document.getElementById('Ipwd').value
            );
        };

        socket.on('userRegistred', function(u) {
            console.log(u);
            document.getElementById('createAccount').setAttribute("style", "display:none");
            document.getElementById('connexion').setAttribute("style", "display:block");
        });

        /***************************** Connection ***********************************/
        function connection () {
            socket.emit('logged',
                document.getElementById('Cemail').value,
                document.getElementById('Cpwd').value
                );
        };

        socket.on('connected', function() {
            document.getElementById('connexion').setAttribute("style", "display:none");
            console.log("connected !");
        });
    </script>

    <div id="connexion" >
        <h1>Connection</h1>

        <label for="email">Email: </label>
        <input type="email" id="Cemail" />
        <br><br/>

        <label for="pwd">Password: </label>
        <input type="password" id="Cpwd"/>
        <br><br/>

        <button type="submit" onclick="connection()">Se connecter</button>
        <button type="submit" onclick="displayCreation()">Créer un compte</button>
    </div>

    <div id="createAccount" >
        <h1>Créer un compte</h1>
        
        <label for="name">Name: </label>
        <input type="text" id="Iname"/>
        <br><br/>

        <label for="email">Email: </label>
        <input type="email" id="Iemail"/>
        <br><br/>

        <label for="pwd">Password: </label>
        <input type="password" id="Ipwd"/>
        <br><br/>

        <button type="submit" onclick="createAccount()">Créer un compte</button>
    </div>
</body>
</html>
